pipeline{
    agent any
    stages{
        stage('Git'){
            steps {
              withCredentials(usernamePassword(credentialsId :jenkins-user-github ,passwordVariable: 'GIT_PASSWORD', usernameVariable: 'GIT_USERNAME' )){
              // Get some code from a GitHub repository
              bat("""
              git config --global credential.username ${GIT_USERNAME}
              git config --global credential.helper "!echo password=${GIT_PASSWORD}; echo"
              git clone https://github.com/pk4a17/gradle-proj.git

              echo "pulled the code"
              """)

          }
        }
       }
           
        stage('Build'){
            steps{
                echo 'Building test-pipeline....'
            }
        }
       
        stage('Sending Notification'){
            steps{
                mail bcc: '', body: 'Jenkins sample-pipeline build is successfull!', cc: '', from: '', replyTo: '', subject: 'Build successfull', to: 'purushottam.k@fnp.com'
            }
        }
      }
    }
